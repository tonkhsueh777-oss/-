<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¥½é‹æ–‡å‰µé¸ç‰©åº—</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /* --- 1. åŸºç¤è¨­å®š --- */
        :root {
            --primary: #D84315; /* åœ–ç‰‡ä¸­çš„æ·±æ©˜ç´…è‰² */
            --accent: #FFECB3;  /* æº«æš–çš„ç±³é»ƒè‰²èƒŒæ™¯ */
            --text: #3E2723;    /* æ·±è¤è‰²æ–‡å­— */
            --white: #ffffff;
        }

        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: var(--accent);
            color: var(--text);
            margin: 0;
            padding: 0;
            padding-bottom: 100px; /* ç•™çµ¦åº•éƒ¨è³¼ç‰©è»Šçš„ç©ºé–“ */
        }

        /* --- 2. é ‚éƒ¨æ‹›ç‰Œ (Hero Section) --- */
        header {
            background: linear-gradient(135deg, #FF6F00, #D84315);
            color: var(--white);
            padding: 30px 20px;
            text-align: center;
            border-bottom-left-radius: 24px;
            border-bottom-right-radius: 24px;
            box-shadow: 0 4px 12px rgba(216, 67, 21, 0.2);
        }
        header h1 { margin: 0; font-size: 1.8rem; letter-spacing: 2px; }
        header p { margin-top: 8px; opacity: 0.9; font-size: 0.9rem; }

        /* --- 3. å•†å“åˆ—è¡¨ (Grid Layout) --- */
        .container {
            padding: 20px;
            max-width: 600px;
            margin: 0 auto;
        }

        .product-grid {
            display: grid;
            grid-template-columns: 1fr 1fr; /* æ‰‹æ©Ÿç‰ˆä½µæ’å…©åˆ— */
            gap: 15px;
        }

        .product-card {
            background: var(--white);
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
            transition: transform 0.2s;
            display: flex;
            flex-direction: column;
        }

        .product-card:active { transform: scale(0.98); }

        .img-placeholder {
            width: 100%;
            height: 150px;
            background-color: #eee;
            object-fit: cover;
        }

        .info {
            padding: 12px;
            display: flex;
            flex-direction: column;
            flex-grow: 1;
        }

        .name { font-weight: 700; font-size: 1rem; margin-bottom: 4px; }
        .desc { font-size: 0.8rem; color: #888; margin-bottom: 8px; flex-grow: 1; }
        .price { color: var(--primary); font-weight: 700; font-size: 1.1rem; }

        .add-btn {
            background-color: var(--text); /* æ·±è‰²æŒ‰éˆ•è¼ƒæœ‰è³ªæ„Ÿ */
            color: white;
            border: none;
            padding: 8px;
            border-radius: 8px;
            margin-top: 8px;
            width: 100%;
            cursor: pointer;
        }

        /* --- 4. åº•éƒ¨æµ®å‹•è³¼ç‰©è»Š (Sticky Footer) --- */
        .cart-bar {
            position: fixed;
            bottom: 20px;
            left: 20px;
            right: 20px;
            background: var(--text);
            color: white;
            padding: 15px 25px;
            border-radius: 50px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            z-index: 100;
            transform: translateY(150%); /* é è¨­éš±è— */
            transition: transform 0.3s ease;
        }

        .cart-bar.show { transform: translateY(0); }

        .cart-info span { font-size: 0.9rem; color: #ccc; }
        .cart-total { font-weight: 700; font-size: 1.2rem; margin-left: 5px; }

        .checkout-btn {
            background-color: var(--primary);
            color: white;
            border: none;
            padding: 8px 20px;
            border-radius: 30px;
            font-weight: bold;
            cursor: pointer;
        }

        /* --- 5. çµå¸³å½ˆè·³è¦–çª— (Modal) --- */
        .modal {
            display: none;
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 200;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background: white;
            width: 90%;
            max-width: 400px;
            border-radius: 20px;
            padding: 25px;
            position: relative;
            animation: slideUp 0.3s ease;
        }

        @keyframes slideUp {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .close-btn {
            position: absolute; top: 15px; right: 20px; font-size: 1.5rem; cursor: pointer; color: #999;
        }

        .form-group { margin-bottom: 15px; }
        .form-group label { display: block; margin-bottom: 5px; font-weight: bold; font-size: 0.9rem; }
        .form-group input, .form-group textarea {
            width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 8px; box-sizing: border-box;
        }

        .submit-order-btn {
            width: 100%; background: #2ecc71; color: white; border: none; padding: 15px;
            border-radius: 12px; font-size: 1.1rem; font-weight: bold; cursor: pointer;
        }
    </style>
</head>
<body>

    <header>
        <h1>ğŸ§§ å¥½é‹é¸ç‰©</h1>
        <p>å°‡åœ¨åœ°çš„ç¾å¥½ï¼Œæ‰“åŒ…å›å®¶</p>
    </header>

    <div class="container">
        <div class="product-grid" id="product-container">
            </div>
    </div>

    <div class="cart-bar" id="cart-bar">
        <div class="cart-info">
            <span>ç¸½é‡‘é¡</span>
            <div class="cart-total">NT$ <span id="total-price">0</span></div>
        </div>
        <button class="checkout-btn" onclick="openModal()">å»çµå¸³ âœ</button>
    </div>

    <div class="modal" id="checkout-modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeModal()">&times;</span>
            <h2 style="margin-top:0">å¡«å¯«æ”¶ä»¶è³‡æ–™</h2>
            <p style="font-size:0.9rem; color:#666; margin-bottom:20px;">
                é»æ“Šé€å‡ºå¾Œï¼Œå°‡è·³è½‰è‡³ Google è¡¨å–®ç¢ºèªè¨‚å–®ã€‚
            </p>
            
            <div class="form-group">
                <label>æ‚¨çš„å§“å</label>
                <input type="text" id="cust-name" placeholder="ç‹å°æ˜">
            </div>
            
            <button class="submit-order-btn" onclick="submitOrder()">é€å‡ºè¨‚å–®</button>
        </div>
    </div>

    <script>
        // --- è³‡æ–™è¨­å®š (Mock Data) ---
        // è«‹å°‡é€™è£¡çš„åœ–ç‰‡é€£çµæ›æˆä½ å¯¦éš›çš„åœ–ç‰‡
        const products = [
            { id: 1, name: "æ‹›è²¡è²“å¸†å¸ƒè¢‹", price: 390, img: "https://via.placeholder.com/300x300/E65100/fff?text=Bag" },
            { id: 2, name: "å°è¾²ç”œç‰ç±³(ç®±)", price: 500, img: "https://via.placeholder.com/300x300/F9A825/fff?text=Corn" },
            { id: 3, name: "å¥½é‹ç¥ˆç¦æ‰‡", price: 150, img: "https://via.placeholder.com/300x300/C62828/fff?text=Fan" },
            { id: 4, name: "è™å¹´å¤§æŠ±æ•", price: 450, img: "https://via.placeholder.com/300x300/EF6C00/fff?text=Pillow" },
        ];

        let cart = [];

        // --- 1. æ¸²æŸ“å•†å“ ---
        const container = document.getElementById('product-container');
        
        function render() {
            container.innerHTML = products.map(p => `
                <div class="product-card">
                    <img src="${p.img}" class="img-placeholder" alt="${p.name}">
                    <div class="info">
                        <div class="name">${p.name}</div>
                        <div class="price">NT$ ${p.price}</div>
                    </div>
                    <div style="padding: 0 12px 12px;">
                        <button class="add-btn" onclick="addToCart(${p.id})">åŠ å…¥è³¼ç‰©è»Š</button>
                    </div>
                </div>
            `).join('');
        }

        // --- 2. è³¼ç‰©è»Šé‚è¼¯ ---
        function addToCart(id) {
            const product = products.find(p => p.id === id);
            cart.push(product);
            updateCartUI();
        }

        function updateCartUI() {
            const total = cart.reduce((sum, item) => sum + item.price, 0);
            document.getElementById('total-price').innerText = total;
            
            const bar = document.getElementById('cart-bar');
            if (cart.length > 0) {
                bar.classList.add('show');
            } else {
                bar.classList.remove('show');
            }
        }

        // --- 3. çµå¸³èˆ‡ Google Form ä¸²æ¥ ---
        function openModal() { document.getElementById('checkout-modal').style.display = 'flex'; }
        function closeModal() { document.getElementById('checkout-modal').style.display = 'none'; }

        function submitOrder() {
            const name = document.getElementById('cust-name').value;
            if(!name) { alert('è«‹å¡«å¯«å§“å'); return; }

            // æ•´ç†è³¼ç‰©è»Šæ¸…å–®å­—ä¸²
            let orderDetails = "";
            let total = 0;
            cart.forEach(item => {
                orderDetails += `ãƒ»${item.name} ($${item.price})\n`;
                total += item.price;
            });
            orderDetails += `\nç¸½é‡‘é¡ï¼š$${total}`;

            // --- é—œéµæ­¥é©Ÿï¼šGoogle Form é å¡«é€£çµ ---
            // 1. å»ºç«‹ä¸€å€‹ Google è¡¨å–®ï¼Œè¦æœ‰å…©å€‹å•é¡Œï¼šã€Œå§“åã€å’Œã€Œè¨‚è³¼å…§å®¹ã€
            // 2. é»é¸è¡¨å–®å³ä¸Šè§’ã€Œå–å¾—é å…ˆå¡«å…¥çš„é€£çµ (Get pre-filled link)ã€
            // 3. éš¨ä¾¿å¡«å…¥å‡è³‡æ–™ï¼ŒæŒ‰å–å¾—é€£çµï¼Œè¤‡è£½è©²é€£çµ
            // 4. æŠŠé€£çµä¸­çš„ `entry.xxxxx=å‡è³‡æ–™` æ›æˆè®Šæ•¸
            
            // ä¸‹é¢é€™å€‹æ˜¯ç¯„ä¾‹é€£çµï¼Œä½ éœ€è¦æ›æˆä½ è‡ªå·±çš„ï¼
            const formID = "1FAIpQLSd...ä½ çš„è¡¨å–®ID..."; 
            const entryName = "entry.123456789";  // ä½ çš„ã€Œå§“åã€æ¬„ä½ ID
            const entryOrder = "entry.987654321"; // ä½ çš„ã€Œè¨‚è³¼å…§å®¹ã€æ¬„ä½ ID
            
            // ç‚ºäº†ç¤ºç¯„ï¼Œæˆ‘å€‘å…ˆç”¨ alert é¡¯ç¤ºçµæœ
            // å¯¦éš›ä½¿ç”¨æ™‚è«‹æŠŠä¸‹é¢è¨»è§£è§£é–‹ï¼Œä¸¦æ›ä¸Šä½ çš„ Google Form ç¶²å€
            
            alert(`æ¨¡æ“¬é€å‡ºï¼\n\né¡§å®¢ï¼š${name}\n${orderDetails}\n\n(ä¸‹ä¸€æ­¥å°‡è·³è½‰ Google è¡¨å–®)`);
            
            /* // å¯¦éš›é‹ä½œçš„ç¨‹å¼ç¢¼ï¼š
            const baseUrl = "https://docs.google.com/forms/d/e/ä½ çš„è¡¨å–®ID/viewform";
            const url = `${baseUrl}?${entryName}=${encodeURIComponent(name)}&${entryOrder}=${encodeURIComponent(orderDetails)}`;
            window.location.href = url; 
            */
           
            // æ¸…ç©ºè³¼ç‰©è»Š
            cart = [];
            updateCartUI();
            closeModal();
        }

        render();
    </script>
</body>
</html>
